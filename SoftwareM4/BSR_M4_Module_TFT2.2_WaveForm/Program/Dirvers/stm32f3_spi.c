/*=====================================================================================================*/
/*=====================================================================================================*/
#include "stm32f3_system.h"
#include "stm32f3_spi.h"
/*=====================================================================================================*/
/*=====================================================================================================*
**函數 : SPI_RW
**功能 : Receive 1Byte Data
**輸入 : SPIx
**輸出 : None
**使用 : Read = SPI_RW(SPI1, 0xFF);
**=====================================================================================================*/
/*=====================================================================================================*/
uint8_t SPI_RW( SPI_TypeDef *SPIx, uint8_t WriteByte )
{
  while((SPIx->SR & SPI_I2S_FLAG_TXE) == (uint16_t)RESET);
  SPI_SendData8(SPIx, WriteByte);
  while((SPIx->SR & SPI_I2S_FLAG_RXNE) == (uint16_t)RESET);

  return SPI_ReceiveData8(SPIx);
}
/*=====================================================================================================*/
/*=====================================================================================================*/
